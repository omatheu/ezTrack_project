# Inteli - Instituto de Tecnologia e Lideran√ßa 

<p align="center">
  <a href="https://www.inteli.edu.br/">
    <img src="./assets/imagens/inteli.png" alt="Inteli - Instituto de Tecnologia e Lideran√ßa" border="0" width="40%" height="40%">
  </a>
</p>


# Desenvolvimento de software com a utiliza√ß√£o de blockchain

## ezTrack

## üöÄ Integrantes:

- <a href="https://www.linkedin.com/in/danielzular/">Daniel Zular</a>
- <a href="https://www.linkedin.com/in/davi-motta/">Davi Motta</a>
- <a href="https://www.linkedin.com/in/luizarsantana/">Luiza Santana</a>
- <a href="https://www.linkedin.com/in/mateus-mar%C3%A7al-212953264/">Mateus Mar√ßal</a>
- <a href="https://www.linkedin.com/in/omatheusrsantos/">Matheus Ribeiro dos Santos</a>
- <a href="https://www.linkedin.com/in/stefano-parente-652822244/">Stefano Parente</a>

## üë©‚Äçüè´ Professores:
### Orientador(a) 
- Renato Penha

### Instrutores
- Ana Cristina
- Fernando Pizzo
- Rafael Jacomossi
- Sergio Venancio
- Victor Hayashi

## üìú Descri√ß√£o

Um aplicativo que pode ser conectado ao SAP BTP (Business Technology Platform) e permita utilizar a blockchain para processos de cota√ß√£o de
fornecedores, registrando o pre√ßo praticado das transa√ß√µes dos Compradores e Vendedores.

## üé¨ Video de Demonstra√ß√£o

<p> <a href="https://youtu.be/_8bUrUSXl-w?si=fa1OWTl0a44j_V-P">Este video </a> demonstra as principais funcionalidades da nossa aplica√ß√£o, destacando sua usabilidade para os usu√°rios.</p>

## üìÅ Estrutura de pastas

|--> assets<br>
  &emsp;| --> imagens <br>
  &emsp;| --> videos <br>
  &emsp;|--> readme.md<br>
|--> docs<br>
  &emsp;| --> documentacao.md <br>
  &emsp;|--> readme.md<br>
|--> src<br>
  &emsp;|--> dapp-python<br>
  &emsp;|--> diagramas<br>
  &emsp;|--> eztrack-env<br> 
    &emsp;&emsp;|--> contratos<br> 
    &emsp;&emsp;|--> lib<br>  
    &emsp;&emsp;|--> script<br>
  &emsp;|--> frontend-web-cartesi<br>  
  &emsp;|--> readme.md<br>
| readme.md<br>

Dentre os arquivos e pastas presentes na raiz do projeto, definem-se:

- <b>assets</b>: aqui est√£o os arquivos relacionados a parte gr√°fica do projeto, ou seja, as imagens e links de v√≠deos que os representam (o logo do grupo pode ser adicionado nesta pasta).

- <b>docs</b>: aqui est√£o todos os documentos do projeto. H√° tamb√©m um arquivo README para o grupo registrar a localiza√ß√£o de cada artefato.

- <b>src</b>: Todo o c√≥digo fonte criado para o desenvolvimento do projeto, incluindo backend e frontend se aplic√°veis.

- <b>README.md</b>: arquivo que serve como guia e explica√ß√£o geral sobre o projeto (o mesmo que voc√™ est√° lendo agora).

## üîß Instala√ß√£o

## Cartesi dApp


Um dApp da Cartesi √© um aplicativo descentralizado (dApp) constru√≠do na plataforma Cartesi. Cartesi √© uma plataforma de desenvolvimento de dApps que busca combinar a flexibilidade e a facilidade de uso dos sistemas operacionais tradicionais com a seguran√ßa e a descentraliza√ß√£o das redes blockchain.

A principal caracter√≠stica que distingue os dApps da Cartesi √© a capacidade de executar computa√ß√£o intensiva e processamento de dados complexos fora da blockchain, usando m√°quinas virtuais Linux. Isso √© poss√≠vel gra√ßas √† integra√ß√£o da Cartesi com as infraestruturas de computa√ß√£o off-chain, onde a maioria das opera√ß√µes ocorre fora da cadeia, mas ainda √© garantida pela seguran√ßa da blockchain.

Essa abordagem oferece v√°rias vantagens, incluindo:

1. **Escalabilidade:** Ao mover a computa√ß√£o intensiva para fora da blockchain, os dApps da Cartesi podem escalar melhor, pois n√£o s√£o limitados pelas restri√ß√µes de capacidade da pr√≥pria blockchain.

2. **Flexibilidade:** Os desenvolvedores podem aproveitar a vasta gama de ferramentas e bibliotecas dispon√≠veis para sistemas operacionais Linux, facilitando o desenvolvimento de dApps complexos.

3. **Efici√™ncia de custos:** Como parte do processamento ocorre off-chain, os custos de execu√ß√£o do dApp podem ser reduzidos em compara√ß√£o com aqueles que dependem exclusivamente de recursos on-chain.

### Configurando seu Ambiente de Desenvolvimento

Para desfrutar de uma experi√™ncia de desenvolvimento de dApps (aplicativos descentralizados) com Cartesi Rollups, voc√™ deve ter o Windows Subsystem for Linux 2 (WSL2) instalado e configurado corretamente.

Aqui est√£o os requisitos gerais:

#### WSL2 e Ubuntu
- WSL2 e Ubuntu devem estar instalados.

#### Python3
- Python3 deve estar instalado.

#### Node.js
- Node.js deve estar instalado.

#### Yarn
- Yarn deve estar instalado.

#### Sunodo
- Sunodo deve estar instalado.

#### Docker Desktop
- Docker Desktop deve estar instalado.

### Instalando WSL2 e Ubuntu

1. Abra a Microsoft Store e instale o WSL2.
2. Abra a Microsoft Store e instale a distribui√ß√£o Ubuntu.

### Instalando e Configurando o Docker

1. Baixe e execute o instalador do Docker Desktop.
   - [Docker Desktop for Windows(Installer)](https://www.docker.com/products/docker-desktop)

### Instalando Node.js/NPM

1. Abra o terminal do Ubuntu (instalado anteriormente com o WSL).
2. Instale o nvm executando o seguinte comando:
   ```bash
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash

### Instalando e Configurando o Docker

1. **Ative o Terminal do Ubuntu**:
    - Abra o terminal do Ubuntu (instalado anteriormente com o WSL).

2. **Instalando Docker Desktop**:
    - Baixe e execute o instalador do Docker Desktop.
      - [Docker Desktop for Windows(Installer)](https://www.docker.com/products/docker-desktop)

### Instalando Node.js/NPM

1. **Ative o Terminal do Ubuntu**:
    - Abra o terminal do Ubuntu (instalado anteriormente com o WSL).

2. **Instalando nvm**:
    - Execute o seguinte comando para instalar o nvm:
      ```bash
      curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash
      ```

3. **Ative o nvm**:
    - Ative o nvm em seu terminal com o comando:
      ```bash
      source ~/.bashrc
      ```

4. **Instalando a Vers√£o Mais Recente do Node.js**:
    - Instale a vers√£o mais recente do Node.js com o comando:
      ```bash
      nvm install node
      ```

5. **Defina a Vers√£o Rec√©m-Instalada como Padr√£o**:
    - Defina a vers√£o rec√©m-instalada como padr√£o com o comando:
      ```bash
      nvm alias default node
      ```

### Instalando Python

1. **Ative o Terminal do Ubuntu**:
    - Abra o terminal do Ubuntu (instalado anteriormente com o WSL).

2. **Instalando Python**:
    - Execute os seguintes comandos para instalar o Python:
      ```bash
      sudo apt update
      sudo apt install python3
      ```

### Instalando Yarn

1. **Ative o Terminal do Ubuntu**:
    - Abra o terminal do Ubuntu (instalado anteriormente com o WSL).

2. **Adicionando o Reposit√≥rio APT do Yarn**:
    - Adicione o Reposit√≥rio APT do Yarn com os seguintes comandos:
      ```bash
      sudo apt update
      sudo apt install curl
      curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
      echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
      ```

3. **Instalando Yarn**:
    - Instale o Yarn com os seguintes comandos:
      ```bash
      sudo apt update
      sudo apt install yarn
      ```

### Instalando Sunodo

- **Instale o Sunodo**:
    - Instale o Sunodo com o seguinte comando:
      ```bash
      npm install -g @sunodo/cli
      ```

### Nota Importante

Para garantir compatibilidade e desempenho ideais, o Docker Engine depende do WSL2 para sua opera√ß√£o. Portanto, inicie o WSL2 lan√ßando o PowerShell e executando o comando "wsl" antes de iniciar o Docker Desktop.

N√£o execute mais comandos no PowerShell/terminal nativo do Windows. Tudo o mais ser√° feito na distribui√ß√£o Ubuntu que voc√™ instalou.

Para um fluxo de trabalho de desenvolvimento sem problemas, recomenda-se n√£o executar comandos do Docker dentro do PowerShell ou do terminal WSL. Em vez disso, abra a distribui√ß√£o Ubuntu que voc√™ instalou e execute todas as codifica√ß√µes e execu√ß√µes de comando dentro desse ambiente Linux.

## **Descri√ß√£o do Objetivo do Sistema** 
O sistema implementado tem como principal objetivo facilitar e automatizar transa√ß√µes descentralizadas entre usu√°rios, seguindo os princ√≠pios da tecnologia blockchain. Ele foi desenvolvido para gerenciar transa√ß√µes de compra e venda de produtos, garantindo transpar√™ncia, seguran√ßa e efici√™ncia no processo. Al√©m disso, busca oferecer funcionalidades para adicionar novos usu√°rios, registrar transa√ß√µes, validar transa√ß√µes por parte dos envolvidos e calcular m√©tricas importantes, como a m√©dia de pre√ßo de um produto. A aplica√ß√£o visa fornecer um ambiente confi√°vel e escal√°vel para transa√ß√µes na web 3.0.

### **Estrutura do Sistema**
O sistema √© composto por diversas partes interconectadas que trabalham em conjunto para garantir seu funcionamento adequado. Abaixo est√° a estrutura detalhada do sistema:

#### **1. Vari√°veis de Estado**

&emsp;- owner: endere√ßo Ethereum do propriet√°rio do sistema.
&emsp;- confirmed_transactions: lista de transa√ß√µes confirmadas.
&emsp;- not_confirmed_transactions: lista de transa√ß√µes n√£o confirmadas.
&emsp;- users_list: lista de usu√°rios registrados no sistema.

#### **2. Classe Transaction**
A classe Transaction √© respons√°vel por representar uma transa√ß√£o no sistema. Ela possui os seguintes atributos:

&emsp;- sender: endere√ßo Ethereum do remetente.
&emsp;- receiver: endere√ßo Ethereum do destinat√°rio.
&emsp;- product_id: identificador do produto.
&emsp;- price: pre√ßo da transa√ß√£o.
&emsp;- timestamp: timestamp da transa√ß√£o.

#### **3. Fun√ß√µes** 

&emsp;**a. Manipula√ß√£o de Solicita√ß√µes HTTP**

&emsp;&emsp;- send_notice(notice: str): envia uma notifica√ß√£o via requisi√ß√£o POST.
&emsp;&emsp;- send_report(report: str): envia um relat√≥rio via requisi√ß√£o POST.
&emsp;&emsp;- send_post(endpoint, json_data): envia uma requisi√ß√£o POST para um determinado endpoint.

&emsp;**b. Manipuladores de Solicita√ß√µes Recebidas**

&emsp;&emsp;- handle_advance(data): manipula solicita√ß√µes de avan√ßo de estado.
&emsp;&emsp;- handle_inspect(data): manipula solicita√ß√µes de inspe√ß√£o de estado.

#### **4. Endpoints**

&emsp;&emsp;- /notice: endpoint para receber notifica√ß√µes do sistema.
&emsp;&emsp;- /report: endpoint para receber relat√≥rios do sistema.
&emsp;&emsp;- /finish: endpoint para finalizar o processamento de uma solicita√ß√£o.

#### **5. Loop Principal**
O loop principal √© respons√°vel por processar solicita√ß√µes continuamente, utilizando os manipuladores adequados de acordo com o tipo de solicita√ß√£o recebida.

#### **Funcionalidades Principais**
O sistema oferece as seguintes funcionalidades principais:

- Registro de usu√°rios.
- Registro de transa√ß√µes.
- Valida√ß√£o de transa√ß√µes por parte do player envolvido na transa√ß√£o.
- C√°lculo da m√©dia de pre√ßo de um produto espec√≠fico.
- Envio de notifica√ß√µes e relat√≥rios sobre eventos relevantes no sistema a partir de requisi√ß√µes POST.
- Rastreamento e visualiza√ß√£o de transa√ß√µes confirmadas e n√£o confirmadas.

### **Conclus√£o** 

O sistema apresentado proporciona uma solu√ß√£o robusta e escal√°vel para transa√ß√µes descentralizadas na web 3.0. Com funcionalidades bem definidas e uma estrutura organizada, ele √© capaz de atender √†s necessidades dos usu√°rios, garantindo a integridade e a efici√™ncia das opera√ß√µes realizadas.

## üóÉ Hist√≥rico de lan√ßamentos

* 0.1.0 - 18/02/2024
    * Sprint 1: entendimento do neg√≥cio.
* 0.2.0 - 03/03/2024
    * Sprint 2: desenvolvimento de smart contract.
* 0.3.0 - 17/03/2024
    * Sprint 3: Cria√ß√£o de um dApp integrado com o front-end.


## üìã Licen√ßa/License
<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://github.com/Inteli-College/2024-T0010-SI05-G01">ezTrack  <a> by </a> <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/InteliProjects/.github/blob/main/profile/README.md">Inteli, <a href="https://www.linkedin.com/in/danielzular/">Daniel Zular</a>, <a href="https://www.linkedin.com/in/davi-motta/">Davi Motta</a>,  <a href="https://www.linkedin.com/in/luizarsantana/">Luiza Santana</a>, <a href="https://www.linkedin.com/in/mateus-mar%C3%A7al-212953264/">Mateus Mar√ßal</a>, <a href="https://www.linkedin.com/in/omatheusrsantos/">Matheus dos Santos</a>, <a href="https://www.linkedin.com/in/stefano-parente-652822244/">Stefano Parente</a> is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution 4.0 International</a>.</p>
 
 
